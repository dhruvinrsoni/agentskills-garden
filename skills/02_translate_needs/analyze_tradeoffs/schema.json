{
  "$schema": "../../schemas/skill.schema.json",
  "id": "analyze_tradeoffs",
  "name": "Analyze Tradeoffs",
  "version": "0.1.0",
  "level": 2,
  "domain": "translate_needs",
  "description": {
    "short": "Evaluates technical options and articulates tradeoffs for stakeholder decisions.",
    "long": "Given a technical decision or multiple implementation options, analyzes the tradeoffs along multiple dimensions (cost, time, risk, scalability, maintainability). Produces a structured comparison that technical and non-technical stakeholders can understand. Part of Gap #4: Translating Business Needs to Technical Requirements."
  },
  "interface": {
    "inputs": {
      "decision_context": {
        "type": "string",
        "description": "Description of the decision to be made",
        "required": true
      },
      "options": {
        "type": "array",
        "description": "List of options to compare",
        "items": {
          "type": "object",
          "properties": {
            "name": {"type": "string"},
            "description": {"type": "string"}
          }
        },
        "required": false
      },
      "priorities": {
        "type": "array",
        "description": "Prioritized list of concerns (e.g., ['cost', 'speed', 'reliability'])",
        "items": {"type": "string"},
        "required": false
      },
      "constraints": {
        "type": "object",
        "description": "Hard constraints to consider",
        "properties": {
          "budget": {"type": "string"},
          "timeline": {"type": "string"},
          "team_size": {"type": "integer"},
          "existing_tech": {"type": "array", "items": {"type": "string"}}
        },
        "required": false
      },
      "audience": {
        "type": "string",
        "description": "Who will read this analysis",
        "enum": ["technical", "executive", "mixed"],
        "default": "mixed"
      }
    },
    "outputs": {
      "summary": {
        "type": "string",
        "description": "Executive summary of the analysis"
      },
      "recommendation": {
        "type": "object",
        "description": "Recommended option with justification",
        "properties": {
          "option": {"type": "string"},
          "confidence": {"type": "string", "enum": ["high", "medium", "low"]},
          "justification": {"type": "string"},
          "key_risks": {"type": "array", "items": {"type": "string"}}
        }
      },
      "comparison_matrix": {
        "type": "array",
        "description": "Matrix comparing options across dimensions",
        "items": {
          "type": "object",
          "properties": {
            "option": {"type": "string"},
            "scores": {
              "type": "object",
              "properties": {
                "cost": {"type": "integer", "minimum": 1, "maximum": 5},
                "time_to_implement": {"type": "integer", "minimum": 1, "maximum": 5},
                "scalability": {"type": "integer", "minimum": 1, "maximum": 5},
                "maintainability": {"type": "integer", "minimum": 1, "maximum": 5},
                "risk": {"type": "integer", "minimum": 1, "maximum": 5}
              }
            },
            "pros": {"type": "array", "items": {"type": "string"}},
            "cons": {"type": "array", "items": {"type": "string"}}
          }
        }
      },
      "risk_analysis": {
        "type": "array",
        "description": "Detailed risk analysis",
        "items": {
          "type": "object",
          "properties": {
            "risk": {"type": "string"},
            "probability": {"type": "string", "enum": ["low", "medium", "high"]},
            "impact": {"type": "string", "enum": ["low", "medium", "high"]},
            "mitigation": {"type": "string"},
            "affected_options": {"type": "array", "items": {"type": "string"}}
          }
        }
      },
      "stakeholder_talking_points": {
        "type": "array",
        "description": "Key points to communicate to different stakeholders",
        "items": {
          "type": "object",
          "properties": {
            "audience": {"type": "string"},
            "key_message": {"type": "string"},
            "supporting_points": {"type": "array", "items": {"type": "string"}}
          }
        }
      },
      "decision_factors": {
        "type": "array",
        "description": "Key factors that should drive the decision",
        "items": {"type": "string"}
      }
    },
    "context_required": ["project_constraints", "team_capabilities"]
  },
  "dependencies": ["clarify_requirement"],
  "validation": {
    "test_cases": [
      {
        "name": "database_choice",
        "input": {
          "decision_context": "Choose between PostgreSQL and MongoDB for user data",
          "options": [
            {"name": "PostgreSQL", "description": "Relational database"},
            {"name": "MongoDB", "description": "Document database"}
          ]
        },
        "expected_behavior": "Should analyze both options across multiple dimensions"
      },
      {
        "name": "build_vs_buy",
        "input": {
          "decision_context": "Should we build authentication in-house or use Auth0?",
          "priorities": ["security", "time"]
        },
        "expected_behavior": "Should factor in priorities when making recommendation"
      }
    ],
    "invariants": [
      "All scores must be between 1 and 5",
      "Recommendation must reference one of the provided options",
      "Every option must have at least one pro and one con"
    ]
  },
  "metadata": {
    "author": "agentskills-garden",
    "tags": ["decision-making", "tradeoffs", "architecture", "comparison"],
    "changelog": [
      {
        "version": "0.1.0",
        "date": "2025-01-20",
        "changes": ["Initial implementation"]
      }
    ]
  }
}
